---
alwaysApply: true
---

## **üîß LARAVEL-SPECIFIC RULES**

### **Service Architecture (Use Existing Modules)**
- **ALWAYS check `app/Services/Modules/ModuleRegistry.php` before creating new services**
- **Use existing services as dependencies** (FileUploadService, OpenAIService, AIResultService, AIPresentationService, AIMathService)
- **Extend existing modules instead of creating duplicates** - You have 18+ services already available
- **Follow the modular architecture pattern** established in your codebase

### **Testing (Laravel Best Practices)**
- **Write lightweight tests for critical business logic and APIs** - Use proper Laravel test structure in `/tests` folder
- **Use Laravel's built-in testing features** (Feature tests, Unit tests, TestCase.php)
- **Don't create debugging scripts in /test folder** - Use proper Laravel test methods
- **Use existing test files** instead of creating new ones for similar functionality

### **Laravel File Structure**
- **Follow Laravel conventions** for controllers, models, services, and migrations
- **Use Laravel's service container** for dependency injection
- **Follow PSR-4 autoloading standards** for class organization
- **Use Laravel's built-in validation** instead of custom validation logic

### **Database & Models**
- **Use existing models** (AIResult, MathProblem, MathSolution, etc.) before creating new ones
- **Follow Laravel migration patterns** for database changes
- **Use Eloquent relationships** instead of manual joins
- **Use Laravel's built-in authentication** and authorization features

### **API Development**
- **Use existing API controllers** in `app/Http/Controllers/Api/` before creating new ones
- **Follow RESTful conventions** for API endpoints
- **Use Laravel's API resources** for response formatting
- **Use existing middleware** for authentication and CORS

### **Configuration & Environment**
- **Use Laravel's config system** for service URLs and settings
- **Use environment variables** for sensitive data
- **Follow Laravel's service provider pattern** for service registration
- **Use Laravel's queue system** for background jobs

### **Laravel-Specific Token Efficiency**
- **Use Laravel's built-in features** instead of creating custom solutions
- **Leverage existing Laravel packages** in your composer.json
- **Use Laravel's artisan commands** for common tasks
- **Follow Laravel's caching strategies** for performance

---

## **üö´ CRITICAL DON'TS (Token Waste Prevention)**



### **Laravel-Specific Don'ts:**
- ‚ùå **Don't create new services without checking ModuleRegistry first**
- ‚ùå **Don't duplicate existing service functionality**
- ‚ùå **Don't create debugging scripts in /test folder**
- ‚ùå **Don't ignore Laravel's built-in features and conventions**

