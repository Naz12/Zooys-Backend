<?php

require_once 'vendor/autoload.php';

use App\Services\AIManagerService;
use Illuminate\Support\Facades\Http;

// Bootstrap Laravel
$app = require_once 'bootstrap/app.php';
$app->make('Illuminate\Contracts\Console\Kernel')->bootstrap();

echo "ðŸ¤– Manual AI Manager Summarization Test\n";
echo "=====================================\n\n";

// The article text from the YouTube video
$articleText = "Is President Trump on the verge of essentially paying himself 230 million in taxpayer money? All kinds of ethical questions are being raised after the president appeared to confirm a New York Times report that he is seeking damages from his own Justice Department over past investigations involving himself specifically Robert Mueller's investigation into Russian election interference and the probe into the classified documents the FBI seized from Mar A Lago. CNN asked the president about that 230 million figure and he says that it could be accurate but he didn't know all the specifics. I don't know what the numbers. I don't even talk to them about it. All I know is that they would owe me a lot of money but I don't. I'm not looking for money.

I'd give it to charity now with the country. It's interesting because I'm the one that makes a decision right? And that decision would have to go across my desk. And it's awfully strange to make a decision where I'm being myself. Joining me now is CNN senior legal analyst Elie Honig. Elie thank you so much for coming in this morning. Does the president have any legitimate grounds for this claim saying this is about damages for someone who went through these investigations and had to pay their lawyers?

Well sir ordinarily any person who gets charged by the Justice Department can make one of these claims can eventually file a lawsuit. However the legal bar is very high here. It's not enough to show that you are for example investigated but not charged as Trump was with respect to 2016 election interference. It's not even enough to show that you were charged but not convicted. As with the two indictments against Donald Trump you have to show something more. You have to show a higher level of ill intent or malice by the U. That's a really high bar to meet.

Not at all clear. Trump could meet that. But more to the point Sara there are massive enormous conflicts of interest here. As Donald Trump said it's strange to be in a position where you're deciding whether to pay yourself. The key decision makers at the Justice Department are Trump's own defense lawyers Todd Blanch or this guy Stanley Woodward who represented one of Trump's co defendants in the Mar A Lago criminal case. So we've got a massive I believe intractable conflict of interest problem here. The Trump administration is also asking for money because of the claims of the FBI violated his privacy for searching Mar A Lago for those classified documents.

But the FBI did find classified documents at Mar a Lago. Does that matter at all? And that's a perfect example of why it's really hard to win on these cases. Trump's got nothing on that aspect of his claim. First of all that search of Mar A Lago was reviewed and authorized in advance by a federal judge. And second of all the FBI and Justice Department found the evidence they were looking for. They said in their application we're looking for classified documents.

They found tons of classified documents. So that's a great example of why it's really difficult to win on these claims. And especially in some of the claims that Donald Trump is claiming he's going to bring. I'm just curious if you expect Todd Bland for example to recuse himself. Would that be the expectation if this goes forward? Well he 100 sure it would be the easiest recusal decision in the Justice Department history. he's the person who represented Donald Trump and Donald Trump's private capacity in these criminal cases.

But important to keep in mind Sarah even if he does recuse even if Stanley Woodward the other guy who represented Walton ought to recuse is this decision will fall to somebody in the Justice Department. And you can bet that person will be well aware that the person making the claim is the president of the United States and that his bosses at the Justice Department including Todd Blanch and Pam Bondi have all done work privately for Donald Trump before and are all loyalists to Donald Trump. So that conflict of interest is almost impossible to cure in my view. All right Ellie it is great to have you this morning. Thank you for breaking that all down for it. Joining me now CNN senior political commentator David Urban. He's a former Trump campaign adviser CNN senior political commentator and former Republican congressman from Illinois Adam Kinzinger and former federal prosecutor Jeff Toobin.

Jeff this is a loud I know is there is such a thing as filing claims against the government for malicious prosecution. It's very rare. The times story is a great story but it doesn't exactly say how they're doing it. There's something called the Federal Tort Claims Act. There's something called the Hyde Amendment that allows you to sue if you were the subject of mix of like really a bad faith. The government knew it wasn't true. But they're going after you.

There have been very few successful claims under those laws in these circumstances. But obviously in all of those claims the defendant is the Justice Department. Here you have the president suing the Justice Department which is of course is run by his appointees including people who represented him in these cases. So the conflict of interest is just so obvious an egregious I don't think there would be any way it could be worked out in an ethical way. the president gave a head nod to this. the timing of this certainly does. there's a shutdown.

People are struggling. Does the president deserve 230 million of taxpayer money? I don't think so. as Jeff points out there's a process for this. It's my understanding this case was filed. The process had begun several years ago. So I think the timing is something that's just percolating up now by the this the story's making its way to the top but does Donald Trump deserve 230 million for what Comey and previous administration did in the in the Russia collusion case?

I if he wasn't president and he was damaged and somehow the he's pretty pissed about it. And so are tons of other people who got caught up in that knowing full well that a lot of people believe that full well there was no collusion. Everything was made up this the FISA warrants were invalid. there's so many problems with it that as Jeff says malicious prosecution doesn't even go there. So I think Donald Trump is rightfully upset about that. But does he deserve 230 million taxpayer dollars? I don't think anyone would say so.

congressman is remarkable. The people who will ultimately decide whether this payment is approved are the president's own top appointees at the Justice Department. his own personal attorney in one case and whatnot. As personal attorney do you see any scenario in which he doesn't get this money? Well if he makes a decision that he's going to give it up then the I guess that would be the case if he does end up getting the money. And here's the thing. If this ends up happening and I think actually before this decision is made every GOP member of Congress and the Senate has to be asked what they think about that.

They have oversight in the money. they're the ones that spend money. Ask what they think about that. They cannot be allowed to obfuscate. They just need to be clear. Yes he deserves it or no he doesn't like David was very clear about. And by the way they've been out for four weeks.

No town halls. They should have town halls. But yeah I just I think if it happens it's just going to be one of the things that adds to the story of the grift out of the white House the 400 million jet that the taxpayers are going to pay upwards of 1 billion to upgrade the Donald Trump takes with him. And it's owned by the Trump Library. That doesn't mean it hangs in the library. He still gets to fly it through the library. I think the DOJ should be spending some time right now actually releasing the Epstein files which Donald Trump could release right now if he chose.

And less on this. I'd forgotten that detail about the jet that it's a library but he gets to fly. And it's not like the Reagan plane that actually sat in the library. It's an amazing room. It's like a movie library. Anderson maybe has. Jeff Toobin is the statute run on this one is how long can could Trump sue after he's president?

Well it depends on what he's suing about. that's why this is all a little vague. I think for many federal claims it's only a two year statute of limitations. So anything regarding the Mueller investigation unless it was filed two years after the end of the Mueller investigation it would be too late. But since we're talking about the legal aspects of this there's a really pernicious part of all this. Let's say there's some settlement. The Justice Department pays Donald Trump 200 million 100 million 30 million.

I don't think anyone can challenge that legally. Not like a third party. Like for taxpayers. There's no there's no such thing as taxpayers standing under the law. It has to be someone directly affected by the by the underlying conduct. And talk about an insider game here. So they could pay this money and be completely insulated from any legal challenge to it.

Also if all the reporting by the New York Times from back when he first ran is correct his record on giving to charities was always somewhat checkered that well it also never quite what it seems. Well he always said I'm going to pay for my own campaign. He didn't really pay for his own campaign. He took lots of campaign contributions. A promise to that to give to charity is not something you can take to the bank as it were. David Urban Adam Anderson. Maybe he'll use it to pay down the debt.

All right we'll see. David Roth David Urban Adam Kinzinger Jeff. David thanks very much.";

echo "ðŸ“„ Article Text Length: " . strlen($articleText) . " characters\n";
echo "ðŸ“Š Word Count: " . str_word_count($articleText) . " words\n\n";

echo "ðŸ”„ Sending to AI Manager for summarization...\n";

try {
    // Initialize AI Manager Service
    $aiManagerService = app(AIManagerService::class);
    
    // Options for summarization
    $options = [
        'mode' => 'detailed',
        'language' => 'en',
        'max_tokens' => 1000,
        'temperature' => 0.7
    ];
    
    echo "ðŸ“¤ Requesting summarization from AI Manager...\n";
    echo "   Mode: {$options['mode']}\n";
    echo "   Language: {$options['language']}\n";
    echo "   Max Tokens: {$options['max_tokens']}\n";
    echo "   Temperature: {$options['temperature']}\n\n";
    
    // Call AI Manager service
    $result = $aiManagerService->processText($articleText, 'summarize', $options);
    
    if ($result['success']) {
        echo "âœ… AI Manager Response Received!\n";
        echo "================================\n\n";
        
        echo "ðŸ“‹ Summary:\n";
        echo str_repeat("-", 50) . "\n";
        echo $result['data']['insights'] . "\n\n";
        
        echo "ðŸ” Key Points:\n";
        echo str_repeat("-", 50) . "\n";
        if (isset($result['data']['key_points'])) {
            foreach ($result['data']['key_points'] as $index => $point) {
                echo ($index + 1) . ". " . $point . "\n";
            }
        } else {
            echo "No key points provided\n";
        }
        
        echo "\nðŸ“Š Metadata:\n";
        echo str_repeat("-", 50) . "\n";
        echo "Model Used: " . ($result['data']['model_used'] ?? 'Unknown') . "\n";
        echo "Tokens Used: " . ($result['data']['tokens_used'] ?? 'Unknown') . "\n";
        echo "Confidence Score: " . ($result['data']['confidence_score'] ?? 'Unknown') . "\n";
        echo "Processing Time: " . ($result['data']['processing_time'] ?? 'Unknown') . " seconds\n";
        
        echo "\nðŸŽ¯ Summary Statistics:\n";
        echo str_repeat("-", 50) . "\n";
        echo "Original Length: " . strlen($articleText) . " characters\n";
        echo "Summary Length: " . strlen($result['data']['insights']) . " characters\n";
        echo "Compression Ratio: " . round((strlen($result['data']['insights']) / strlen($articleText)) * 100, 2) . "%\n";
        
    } else {
        echo "âŒ AI Manager Error:\n";
        echo "Error: " . ($result['error'] ?? 'Unknown error') . "\n";
    }
    
} catch (Exception $e) {
    echo "âŒ Exception occurred:\n";
    echo "Error: " . $e->getMessage() . "\n";
    echo "File: " . $e->getFile() . "\n";
    echo "Line: " . $e->getLine() . "\n";
}

echo "\nðŸŽ‰ Manual AI Summarization Complete!\n";



